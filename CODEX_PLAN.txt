# CODEX_PLAN

## ğŸš¦ Guardrails
- â— DB/í…Œì´ë¸” ì‚­ì œ ê¸ˆì§€: Room ìŠ¤í‚¤ë§ˆ ë³€ê²½ì€ ë°˜ë“œì‹œ Migrationìœ¼ë¡œë§Œ ì²˜ë¦¬
- â— ë²„ì „ ê³ ì •:
  - AGP = 8.6.1
  - Gradle Wrapper = 8.7
  - Kotlin = 2.0.20
  - KSP = 2.0.20-1.0.25
  - Compose BOM = 2024.09.00
  - Room = 2.6.1
- â— Secrets ê¸ˆì§€: API í‚¤, OAuth Client Secret ë“±ì€ ì ˆëŒ€ ì»¤ë°‹ ê¸ˆì§€. placeholder(`YOUR_KEY_HERE`)ë§Œ ì‚¬ìš©
- â— OpenAI API í‚¤ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥ â†’ Android Keystore + EncryptedSharedPreferences ë¡œ ì•ˆì „ ì €ì¥
- â— ì‘ì—… ìˆœì„œëŠ” ì§ë ¬ë¡œ ì§„í–‰. ì´ì „ ë‹¨ê³„ PR merge í›„ ë‹¤ìŒ ë‹¨ê³„ ì°©ìˆ˜

---

## ğŸ›¤ ë‹¨ê³„ë³„ ê°œë°œ ìˆœì„œ
1. `feat/init-db`
   - Room ì—”í‹°í‹°, DAO, Database êµ¬í˜„
   - ingest_items + auth_tokens í…Œì´ë¸”, FTS5 ì¸ë±ìŠ¤ í¬í•¨
   - ê¸°ë³¸ CRUD + FTS smoke test

2. `feat/auth-google`
   - Google Sign-In (Play Services Auth)
   - serverAuthCode â†’ ë°±ì—”ë“œ êµí™˜ (placeholder)
   - access/refresh token ì•ˆì „ ì €ì¥ (Keystore + Room)

3. `feat/gmail-ingest`
   - Gmail API (gmail.readonly) â†’ ë©”ì¼ ìˆ˜ì§‘
   - IngestItem upsert
   - í† í° ë§Œë£Œ ì‹œ refresh/ì¬ë¡œê·¸ì¸ ì²˜ë¦¬

4. `feat/parser-v1`
   - Text â†’ dueDate, confidence ì¶”ì¶œ
   - TimeResolver(Asia/Seoul) ì ìš©

5. `feat/widget`
   - Glance ìœ„ì ¯ â†’ ì˜¤ëŠ˜/ì£¼/ì›” í•­ëª© ìš”ì•½ í‘œì‹œ

6. `feat/openai-chat`
   - OpenAI API Key ì…ë ¥ + ì•ˆì „ ì €ì¥
   - Hybrid Search = RDB í•„í„° + FTS5 + (ì˜µì…˜) ë²¡í„° ìœ ì‚¬ë„ â†’ Rank Fusion
   - PromptBuilder + OpenAI Chat Completions í˜¸ì¶œ

7. `feat/ocr-capture` (ì„ íƒ)
   - ML Kit OCR â†’ ingest_items(source="ocr") ì¶”ê°€

---

## âœ… Definition of Done (ê³µí†µ)
- ìƒˆ ë¸Œëœì¹˜ ìƒì„± â†’ Gradle Sync & ë¹Œë“œ ì„±ê³µ
- ë‹¨ìœ„/ìˆ˜ë™ í…ŒìŠ¤íŠ¸ í†µê³¼
- README ì—…ë°ì´íŠ¸ (ì‚¬ìš©ë²•, ê¶Œí•œ, í•œê³„, ìŠ¤í¬ë¦°ìƒ·)
- PR ìƒì„± ì‹œ `.github/pull_request_template.md` ì¤€ìˆ˜
- DB êµ¬ì¡° íŒŒê´´ì  ë³€ê²½ ì—†ìŒ
